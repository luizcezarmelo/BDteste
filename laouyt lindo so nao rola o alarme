<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Agenda do Fofo</title>
<style>
ย * { box-sizing: border-box; }
ย :root{
ย ย --b: #0f172a; --fg:#0b1324; --muted:#6b7280; --bd:#e5e7eb;
ย ย --pri:#2563eb; --pri-2:#1e40af; --ok:#16a34a; --warn:#ea580c; --bg:#ffffff;
ย }
ย body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue','Noto Sans',Arial,sans-serif;background:var(--bg);color:var(--fg)}
ย .container{display:flex;flex-direction:column}
ย @media(min-width:900px){.container{flex-direction:row;min-height:100vh}}
ย .left-panel,.right-panel{padding:20px}
ย .left-panel{flex:2;border-right:1px solid var(--bd)}
ย .right-panel{flex:1}
ย h1{margin:0 0 10px 0}
ย .calendar-section{margin:12px 0;display:flex;gap:8px;flex-wrap:wrap;align-items:center}
ย .day-nav{display:flex;gap:8px;align-items:center;margin:0 0 12px 0}
ย button{cursor:pointer;border:1px solid var(--bd);background:#f8fafc;border-radius:8px;padding:8px 12px}
ย button:hover{background:#eef2ff}
ย .actions{display:flex;gap:10px;margin:10px 0;flex-wrap:wrap}
ย .search-area{display:flex;gap:6px;align-items:center;margin:8px 0;flex-wrap:wrap}
ย .search-area input{flex:1;min-width:160px;padding:8px;border:1px solid var(--bd);border-radius:6px}
ย .search-results{border:1px solid var(--bd);border-radius:8px;max-height:220px;overflow:auto}
ย .search-results div{padding:8px 10px;border-bottom:1px solid var(--bd);cursor:pointer}
ย .search-results div:last-child{border-bottom:none}
ย .search-results div:hover{background:#f1f5f9}
ย .commitment{display:grid;grid-template-columns:92px 1fr auto auto;gap:6px;align-items:center;padding:8px;border:1px solid var(--bd);border-radius:10px;margin-bottom:8px}
ย .commitment input[type="time"]{padding:6px;border:1px solid var(--bd);border-radius:6px;width:100%}
ย .commitment input[type="text"]{padding:8px;border:1px solid var(--bd);border-radius:6px;width:100%}
ย .commitment .ok{border-color:#c7f0cf;background:#ecfdf5}
ย .commitment .del{border-color:#ffd7d7;background:#fff1f2}
ย .done{text-decoration:line-through;color:#6b7280}
ย .checked{background:#e7f0ff}
ย .destaque{outline:3px solid #fde68a;background:#fffbeb}
ย .muted{color:var(--muted);font-size:.9rem}
ย .row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
ย .tag{display:inline-flex;align-items:center;gap:6px;background:#eef2ff;border:1px solid var(--bd);border-radius:999px;padding:6px 10px;font-size:.85rem}
ย .pill{background:#ecfeff;border:1px solid #bae6fd;border-radius:999px;padding:2px 8px;font-size:.75rem}
ย .panel{border:1px solid var(--bd);border-radius:12px;padding:12px}
ย #login-screen{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#f3f4f6;z-index:1000}
ย #login-card{background:#fff;border:1px solid var(--bd);border-radius:16px;padding:22px;box-shadow:0 10px 30px rgba(0,0,0,.08);min-width:320px;max-width:92vw}
ย #login-card h2{margin:0 0 10px 0}
ย #login-card input{width:100%;padding:10px;border:1px solid var(--bd);border-radius:8px}
ย #login-card .msg{min-height:18px;font-size:.9rem}
ย #toggle-pass{position:absolute;right:10px;top:50%;transform:translateY(-50%);background:transparent;border:none;font-size:1rem;cursor:pointer}
ย .relogio{font-variant-numeric:tabular-nums}
</style>
</head>
<body>
<div id="login-screen">
ย <div id="login-card">
ย ย <h2 id="login-title">Acesso Restrito</h2>
ย ย <p class="muted" id="login-sub">Entre com a senha para continuar.</p>
ย ย <div style="position:relative;margin:8px 0 6px 0">
ย ย ย <input type="password" id="password-input" placeholder="Digite a senha" />
ย ย ย <button id="toggle-pass" title="Mostrar/ocultar">๐๏ธ</button>
ย ย </div>
ย ย <div class="row">
ย ย ย <button id="login-btn">Entrar</button>
ย ย ย <button id="define-btn" style="display:none">Definir senha</button>
ย ย </div>
ย ย <div class="msg" id="login-error" style="color:#dc2626;"></div>
ย ย <div class="muted" style="margin-top:8px">Dica: Enter confirma.</div>
ย </div>
</div>

<div class="container" id="app" style="display:none">
ย <div class="left-panel">
ย ย <div class="row" style="justify-content:space-between">
ย ย ย <h1>Agenda do Fofo</h1>
ย ย ย <span class="pill relogio" id="clock">--:--</span>
ย ย </div>
ย ย <div class="calendar-section">
ย ย ย <input type="date" id="dataSelecionada" />
ย ย ย <button id="hojeBtn" title="Hoje">๐ Hoje</button>
ย ย ย <span class="tag">Auto-salvo <span id="autosaveState">a cada 5s</span></span>
ย ย </div>
ย ย <div class="day-nav">
ย ย ย <button id="prevDayBtn">โ Anterior</button>
ย ย ย <button id="nextDayBtn">Prรณximo โถ</button>
ย ย </div>
ย ย <div class="actions">
ย ย ย <button id="novoBtn">Novo compromisso</button>
ย ย ย <button id="exportarBtn">Exportar TXT</button>
ย ย </div>
ย ย <div id="agenda"></div>
ย </div>
ย <div class="right-panel">
ย ย <div class="panel" style="margin-bottom:12px">
ย ย ย <h2 style="margin:0 0 8px 0">Validador de CPF</h2>
ย ย ย <div class="row">
ย ย ย ย <input type="text" id="cpf" placeholder="Digite o CPF" />
ย ย ย ย <button id="cpfClear">โ</button>
ย ย ย ย <button id="cpfCopy">Copiar</button>
ย ย ย </div>
ย ย ย <p id="cpfStatus" class="muted"></p>
ย ย </div>
ย ย <div class="panel" style="margin-bottom:12px">
ย ย ย <h3 style="margin:0 0 8px 0">๐ Pesquisa global</h3>
ย ย ย <div class="search-area">
ย ย ย ย <input type="text" id="search" placeholder="Pesquisar (min 3 letras)..." />
ย ย ย ย <button id="limparBuscaBtn">Limpar</button>
ย ย ย </div>
ย ย ย <div id="searchResults" class="search-results"></div>
ย ย </div>
ย ย <div class="panel">
ย ย ย <h3 style="margin:0 0 8px 0">๐ Lembretes Fixos</h3>
ย ย ย <textarea id="notasFixas" rows="12" style="width:100%;padding:8px;border:1px solid var(--bd);border-radius:8px;"></textarea>
ย ย </div>
ย </div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";
import { getDatabase, ref, child, get, set, onValue } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-database.js";

const firebaseConfig = {
ย apiKey: "AIzaSyBiikcagIm1p7wJG6DsHijkvdy1fpDBn8Y",
ย authDomain: "bd-teste-c931c.firebaseapp.com",
ย databaseURL: "https://bd-teste-c931c-default-rtdb.europe-west1.firebasedatabase.app",
ย projectId: "bd-teste-c931c",
ย storageBucket: "bd-teste-c931c.firebasestorage.app",
ย messagingSenderId: "270308100761",
ย appId: "1:270308100761:web:ae34fde6d5ae86b67b0608"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

// -----------------------------------------------------------
// ----------------- Lรณgica de Senha (Nova) ------------------
// -----------------------------------------------------------
const PASSWORD_NODE = 'appPassword';
const els = {
ย loginScreen: document.getElementById('login-screen'),
ย loginTitle:ย document.getElementById('login-title'),
ย loginSub:ย ย document.getElementById('login-sub'),
ย passInput:ย ยdocument.getElementById('password-input'),
ย togglePass:ย document.getElementById('toggle-pass'),
ย loginBtn:ย ย document.getElementById('login-btn'),
ย defineBtn:ย ยdocument.getElementById('define-btn'),
ย loginErr:ย ย document.getElementById('login-error'),
ย app:ย ย ย ย ยdocument.getElementById('app'),
};

let currentPassword = null;

async function loadPassword() {
ย const snap = await get(child(ref(db), PASSWORD_NODE));
ย currentPassword = snap.exists() ? snap.val() : null;
ย if (currentPassword) {
ย ย els.loginTitle.textContent = 'Acesso Restrito';
ย ย els.loginSub.textContent = 'Entre com a senha para continuar.';
ย ย els.loginBtn.style.display = '';
ย ย els.defineBtn.style.display = 'none';
ย } else {
ย ย els.loginTitle.textContent = 'Configurar Senha';
ย ย els.loginSub.textContent = 'Defina uma senha para habilitar o acesso.';
ย ย els.loginBtn.style.display = 'none';
ย ย els.defineBtn.style.display = '';
ย }
ย els.loginScreen.style.display = 'flex';
}

function showApp() {
ย els.loginScreen.style.display = 'none';
ย els.app.style.display = 'flex';
ย initApp();
}

async function setPassword() {
ย const p = els.passInput.value.trim();
ย if (!p) { els.loginErr.textContent = 'A senha nรฃo pode ser vazia.'; return; }
ย await set(ref(db, PASSWORD_NODE), p);
ย els.passInput.value = '';
ย await loadPassword();
ย els.loginErr.textContent = 'Senha definida! Entre com ela para acessar.';
}

function checkPassword() {
ย const p = els.passInput.value;
ย if (p && currentPassword && p === currentPassword) {
ย ย showApp();
ย } else {
ย ย els.loginErr.textContent = 'Senha incorreta.';
ย ย els.passInput.select();
ย }
}

els.togglePass.addEventListener('click', ()=>{ els.passInput.type = els.passInput.type==='password'?'text':'password'; });
els.passInput.addEventListener('keydown', e=>{
ย if(e.key==='Enter'){ currentPassword? checkPassword(): setPassword(); }
});
els.loginBtn.addEventListener('click', checkPassword);
els.defineBtn.addEventListener('click', setPassword);

loadPassword();
// -----------------------------------------------------------
// ------------------ Fim da Lรณgica de Senha -----------------
// -----------------------------------------------------------

// -----------------------------------------------------------
// ------------------- Cรณdigo Original (Mantido) -------------
// -----------------------------------------------------------
const dataSelecionadaInput = document.getElementById('dataSelecionada');
const agendaDiv = document.getElementById('agenda');
const novoBtn = document.getElementById('novoBtn');
const hojeBtn = document.getElementById('hojeBtn');
const prevDayBtn = document.getElementById('prevDayBtn');
const nextDayBtn = document.getElementById('nextDayBtn');
const notasFixasTextarea = document.getElementById('notasFixas');
const searchInput = document.getElementById('search');
const searchResultsDiv = document.getElementById('searchResults');
const limparBuscaBtn = document.getElementById('limparBuscaBtn');
const exportarBtn = document.getElementById('exportarBtn');
const cpfInput = document.getElementById('cpf');
const cpfStatusP = document.getElementById('cpfStatus');
const cpfClearBtn = document.getElementById('cpfClear');
const cpfCopyBtn = document.getElementById('cpfCopy');
const clockSpan = document.getElementById('clock');
const autosaveStateSpan = document.getElementById('autosaveState');

let dadosAgenda = {};
let notasFixas = '';
let dataAtual = new Date();
let autosaveTimer;
let debounceTimer;

const CPF_NODE = 'cpfValidado';
const AGENDA_NODE = 'agenda';
const NOTAS_NODE = 'notasFixas';

function formatarData(data) {
ย const d = data.getDate().toString().padStart(2, '0');
ย const m = (data.getMonth() + 1).toString().padStart(2, '0');
ย const a = data.getFullYear();
ย return `${d}/${m}/${a}`;
}

function formatarDataISO(data) {
ย return data.toISOString().split('T')[0];
}

function formatarDataParaFirebase(data) {
ย return formatarDataISO(data);
}

function carregarData(data) {
ย const dataStr = formatarDataParaFirebase(data);
ย renderizarAgenda(dataStr);
ย dataSelecionadaInput.value = dataStr;
}

function renderizarAgenda(dataStr) {
ย agendaDiv.innerHTML = '';
ย const compromissosDoDia = dadosAgenda[dataStr] || [];
ย compromissosDoDia.sort((a, b) => a.hora.localeCompare(b.hora));
ย if (compromissosDoDia.length === 0) {
ย ย agendaDiv.innerHTML = '<p class="muted" style="text-align:center">Nenhum compromisso para este dia.</p>';
ย } else {
ย ย compromissosDoDia.forEach((item, index) => {
ย ย ย const div = document.createElement('div');
ย ย ย div.className = `commitment ${item.done ? 'done' : ''}`;
ย ย ย div.innerHTML = `
ย ย ย ย <input type="time" value="${item.hora}" data-index="${index}" class="hora-input">
ย ย ย ย <input type="text" value="${item.texto}" data-index="${index}" class="texto-input">
ย ย ย ย <button class="ok" data-index="${index}">${item.done ? 'โ' : 'โ๏ธ'}</button>
ย ย ย ย <button class="del" data-index="${index}">๐๏ธ</button>
ย ย ย `;
ย ย ย agendaDiv.appendChild(div);
ย ย });
ย }
}

function adicionarCompromisso() {
ย const dataStr = formatarDataParaFirebase(dataAtual);
ย if (!dadosAgenda[dataStr]) dadosAgenda[dataStr] = [];
ย dadosAgenda[dataStr].push({ hora: '09:00', texto: '', done: false });
ย salvarDados();
ย renderizarAgenda(dataStr);
}

function atualizarCompromisso(index, campo, valor) {
ย const dataStr = formatarDataParaFirebase(dataAtual);
ย if (dadosAgenda[dataStr] && dadosAgenda[dataStr][index]) {
ย ย dadosAgenda[dataStr][index][campo] = valor;
ย ย salvarDados();
ย }
}

function removerCompromisso(index) {
ย const dataStr = formatarDataParaFirebase(dataAtual);
ย if (dadosAgenda[dataStr] && dadosAgenda[dataStr][index]) {
ย ย dadosAgenda[dataStr].splice(index, 1);
ย ย salvarDados();
ย ย renderizarAgenda(dataStr);
ย }
}

function alternarConcluido(index) {
ย const dataStr = formatarDataParaFirebase(dataAtual);
ย if (dadosAgenda[dataStr] && dadosAgenda[dataStr][index]) {
ย ย dadosAgenda[dataStr][index].done = !dadosAgenda[dataStr][index].done;
ย ย salvarDados();
ย ย renderizarAgenda(dataStr);
ย }
}

async function salvarDados() {
ย clearTimeout(autosaveTimer);
ย autosaveStateSpan.textContent = 'salvando...';
ย await set(ref(db, AGENDA_NODE), dadosAgenda);
ย await set(ref(db, NOTAS_NODE), notasFixasTextarea.value);
ย autosaveStateSpan.textContent = 'salvo';
ย clearTimeout(autosaveTimer);
ย autosaveTimer = setTimeout(() => {
ย ย autosaveStateSpan.textContent = 'a cada 5s';
ย }, 5000);
}

function formatarCPF(cpf) {
ย cpf = cpf.replace(/\D/g, '');
ย if (cpf.length > 11) cpf = cpf.substring(0, 11);
ย if (cpf.length > 9) {
ย ย cpf = cpf.replace(/^(\d{3})(\d{3})(\d{3})(\d{2})$/, '$1.$2.$3-$4');
ย } else if (cpf.length > 6) {
ย ย cpf = cpf.replace(/^(\d{3})(\d{3})(\d{3})$/, '$1.$2.$3');
ย } else if (cpf.length > 3) {
ย ย cpf = cpf.replace(/^(\d{3})(\d{3})$/, '$1.$2');
ย } else if (cpf.length > 0) {
ย ย cpf = cpf.replace(/^(\d{3})$/, '$1');
ย }
ย return cpf;
}

function validarCPF(cpf) {
ย cpf = cpf.replace(/\D/g, '');
ย if (cpf.length !== 11 || /^(\d)\1{10}$/.test(cpf)) return false;
ย let sum = 0, rest;
ย for (let i = 1; i <= 9; i++) sum = sum + parseInt(cpf.substring(i - 1, i)) * (11 - i);
ย rest = (sum * 10) % 11;
ย if ((rest === 10) || (rest === 11)) rest = 0;
ย if (rest !== parseInt(cpf.substring(9, 10))) return false;
ย sum = 0;
ย for (let i = 1; i <= 10; i++) sum = sum + parseInt(cpf.substring(i - 1, i)) * (12 - i);
ย rest = (sum * 10) % 11;
ย if ((rest === 10) || (rest === 11)) rest = 0;
ย if (rest !== parseInt(cpf.substring(10, 11))) return false;
ย return true;
}

function buscar(termo) {
ย searchResultsDiv.innerHTML = '';
ย const termoNormalizado = termo.toLowerCase().trim();
ย if (termoNormalizado.length < 3) return;
ย let resultados = [];
ย for (const data in dadosAgenda) {
ย ย dadosAgenda[data].forEach(comp => {
ย ย ย if (comp.texto.toLowerCase().includes(termoNormalizado)) {
ย ย ย ย resultados.push({ data, ...comp });
ย ย ย }
ย ย });
ย }
ย if (resultados.length === 0) {
ย ย searchResultsDiv.innerHTML = '<p class="muted" style="text-align:center">Nenhum resultado encontrado.</p>';
ย } else {
ย ย resultados.forEach(res => {
ย ย ย const div = document.createElement('div');
ย ย ย const dataFormatada = new Date(res.data + 'T00:00:00').toLocaleDateString('pt-BR');
ย ย ย div.textContent = `${res.hora} - ${res.texto} (${dataFormatada})`;
ย ย ย div.dataset.data = res.data;
ย ย ย div.addEventListener('click', () => {
ย ย ย ย const [year, month, day] = res.data.split('-').map(Number);
ย ย ย ย dataAtual = new Date(year, month - 1, day);
ย ย ย ย carregarData(dataAtual);
ย ย ย ย const compromissos = Array.from(agendaDiv.querySelectorAll('.commitment'));
ย ย ย ย compromissos.forEach(c => {
ย ย ย ย ย const hora = c.querySelector('.hora-input').value;
ย ย ย ย ย const texto = c.querySelector('.texto-input').value;
ย ย ย ย ย if (hora === res.hora && texto === res.texto) {
ย ย ย ย ย ย c.classList.add('destaque');
ย ย ย ย ย ย setTimeout(() => c.classList.remove('destaque'), 2000);
ย ย ย ย ย }
ย ย ย ย });
ย ย ย });
ย ย ย searchResultsDiv.appendChild(div);
ย ย });
ย }
}

function exportarAgenda() {
ย let texto = "Agenda de Compromissos\n\n";
ย const datas = Object.keys(dadosAgenda).sort();
ย datas.forEach(dataStr => {
ย ย const data = new Date(dataStr + 'T00:00:00').toLocaleDateString('pt-BR');
ย ย const compromissosDoDia = dadosAgenda[dataStr] || [];
ย ย if (compromissosDoDia.length > 0) {
ย ย ย texto += `--- ${data} ---\n`;
ย ย ย compromissosDoDia.sort((a, b) => a.hora.localeCompare(b.hora));
ย ย ย compromissosDoDia.forEach(comp => {
ย ย ย ย const status = comp.done ? '[OK]' : '[ ]';
ย ย ย ย texto += `${status} ${comp.hora} - ${comp.texto}\n`;
ย ย ย });
ย ย ย texto += '\n';
ย ย }
ย });
ย texto += '\n--- Lembretes Fixos ---\n';
ย texto += notasFixasTextarea.value;

ย const blob = new Blob([texto], { type: 'text/plain;charset=utf-8' });
ย const link = document.createElement('a');
ย link.href = URL.createObjectURL(blob);
ย link.download = 'agenda_completa.txt';
ย document.body.appendChild(link);
ย link.click();
ย document.body.removeChild(link);
}

function initApp() {
ย // Carregar dados do Firebase (sem a lรณgica de senha)
ย onValue(ref(db, AGENDA_NODE), (snapshot) => {
ย ย dadosAgenda = snapshot.val() || {};
ย ย carregarData(dataAtual);
ย });
ย onValue(ref(db, NOTAS_NODE), (snapshot) => {
ย ย notasFixas = snapshot.val() || '';
ย ย notasFixasTextarea.value = notasFixas;
ย });
ย
ย // Listeners de eventos
ย dataSelecionadaInput.addEventListener('change', (e) => {
ย ย dataAtual = new Date(e.target.value + 'T00:00:00');
ย ย carregarData(dataAtual);
ย });
ย
ย hojeBtn.addEventListener('click', () => {
ย ย dataAtual = new Date();
ย ย carregarData(dataAtual);
ย });
ย
ย prevDayBtn.addEventListener('click', () => {
ย ย dataAtual.setDate(dataAtual.getDate() - 1);
ย ย carregarData(dataAtual);
ย });
ย
ย nextDayBtn.addEventListener('click', () => {
ย ย dataAtual.setDate(dataAtual.getDate() + 1);
ย ย carregarData(dataAtual);
ย });
ย
ย novoBtn.addEventListener('click', adicionarCompromisso);
ย exportarBtn.addEventListener('click', exportarAgenda);
ย
ย agendaDiv.addEventListener('change', (e) => {
ย ย const target = e.target;
ย ย const index = target.dataset.index;
ย ย if (target.classList.contains('hora-input')) {
ย ย ย atualizarCompromisso(index, 'hora', target.value);
ย ย } else if (target.classList.contains('texto-input')) {
ย ย ย atualizarCompromisso(index, 'texto', target.value);
ย ย }
ย });
ย
ย agendaDiv.addEventListener('click', (e) => {
ย ย const target = e.target;
ย ย const index = target.dataset.index;
ย ย if (target.classList.contains('del')) {
ย ย ย removerCompromisso(index);
ย ย } else if (target.classList.contains('ok')) {
ย ย ย alternarConcluido(index);
ย ย }
ย });
ย
ย notasFixasTextarea.addEventListener('input', () => {
ย ย clearTimeout(debounceTimer);
ย ย debounceTimer = setTimeout(salvarDados, 1000);
ย });
ย
ย searchInput.addEventListener('input', () => {
ย ย clearTimeout(debounceTimer);
ย ย debounceTimer = setTimeout(() => buscar(searchInput.value), 300);
ย });
ย
ย limparBuscaBtn.addEventListener('click', () => {
ย ย searchInput.value = '';
ย ย searchResultsDiv.innerHTML = '';
ย });
ย
ย cpfInput.addEventListener('input', (e) => {
ย ย const valorLimpo = e.target.value.replace(/\D/g, '');
ย ย e.target.value = formatarCPF(valorLimpo);
ย ย if (valorLimpo.length === 11) {
ย ย ย if (validarCPF(valorLimpo)) {
ย ย ย ย cpfStatusP.textContent = 'โ CPF Vรกlido';
ย ย ย ย cpfStatusP.style.color = '#16a34a';
ย ย ย } else {
ย ย ย ย cpfStatusP.textContent = 'โ CPF Invรกlido';
ย ย ย ย cpfStatusP.style.color = '#dc2626';
ย ย ย }
ย ย } else {
ย ย ย cpfStatusP.textContent = '';
ย ย }
ย });
ย
ย cpfClearBtn.addEventListener('click', () => {
ย ย cpfInput.value = '';
ย ย cpfStatusP.textContent = '';
ย ย cpfInput.focus();
ย });
ย
ย cpfCopyBtn.addEventListener('click', async () => {
ย ย const valorLimpo = cpfInput.value.replace(/\D/g, '');
ย ย if (valorLimpo) {
ย ย ย try {
ย ย ย ย await navigator.clipboard.writeText(valorLimpo);
ย ย ย ย cpfStatusP.textContent = 'Copiado!';
ย ย ย ย cpfStatusP.style.color = '#1e40af';
ย ย ย ย setTimeout(() => {
ย ย ย ย ย if (cpfInput.value.replace(/\D/g, '').length === 11) {
ย ย ย ย ย ย const isValid = validarCPF(valorLimpo);
ย ย ย ย ย ย cpfStatusP.textContent = isValid ? 'โ CPF Vรกlido' : 'โ CPF Invรกlido';
ย ย ย ย ย ย cpfStatusP.style.color = isValid ? '#16a34a' : '#dc2626';
ย ย ย ย ย } else {
ย ย ย ย ย ย cpfStatusP.textContent = '';
ย ย ย ย ย }
ย ย ย ย }, 1500);
ย ย ย } catch (err) {
ย ย ย ย console.error('Falha ao copiar:', err);
ย ย ย }
ย ย }
ย });
ย
ย function updateClock() {
ย ย const now = new Date();
ย ย const h = now.getHours().toString().padStart(2, '0');
ย ย const m = now.getMinutes().toString().padStart(2, '0');
ย ย clockSpan.textContent = `${h}:${m}`;
ย }
ย setInterval(updateClock, 1000);
ย updateClock();
}
</script>
</body>
</html>
